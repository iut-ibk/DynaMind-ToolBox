CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(dynamind)

SET(Boost_USE_STATIC_LIBS   OFF)
FIND_PACKAGE(Boost 1.38.0 COMPONENTS program_options date_time REQUIRED)
FIND_PACKAGE(PythonLibs REQUIRED)
FIND_PACKAGE(Qt4 COMPONENTS QtCore QtGui QtTest REQUIRED)


SET(QT_USE_QTXML TRUE)
SET(QT_USE_QTTEST TRUE)

INCLUDE(${QT_USE_FILE})

INCLUDE_DIRECTORIES(src/core src/python-swig ${Boost_INCLUDE_DIRS} ${QT_QTCORE_INCLUDE_DIR} ${PYTHON_INCLUDE_PATH})
FIND_PACKAGE(SWIG REQUIRED)
INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_PATH})


IF(CMAKE_BUILD_TYPE STREQUAL Debug)
        MESSAGE(STATUS "Build Type = Debug")
        ADD_DEFINITIONS(-DDEBUG)
ELSE()
        MESSAGE(STATUS "Build Type = Release")
ENDIF()

SET(LIBRARY_OUTPUT_PATH ${dynamind_BINARY_DIR})
SET(EXECUTABLE_OUTPUT_PATH ${dynamind_BINARY_DIR})


ADD_SUBDIRECTORY(src/core)
ADD_SUBDIRECTORY(src/python-swig)
ADD_SUBDIRECTORY(src/DMTestModules)
ADD_SUBDIRECTORY(src/DMToolboxes)

ADD_SUBDIRECTORY(src/unit-test)

ADD_SUBDIRECTORY(CMake)

INCLUDE(DynaMindCPack.txt)
